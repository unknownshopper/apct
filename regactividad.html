<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Historial de Registros - Actividad - PCT</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Historial completo de registros de actividad en el sistema PCT.">
  <meta name="author" content="PCT">
  <link rel="canonical" href="https://pc-t.mx/regactividad.html">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://pc-t.mx/regactividad.html">
  <meta property="og:title" content="Historial de Registros - Actividad - PCT">
  <meta property="og:description" content="Historial completo de registros de actividad en el sistema PCT.">
  <meta property="og:site_name" content="PCT">
  
  <script>
    (function(){
      var v = Date.now();
      document.write('<link rel="stylesheet" href="styles.css?v=' + v + '">');
    })();
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="img/logo.ico">
  <link rel="shortcut icon" href="img/logo.ico">
</head>
<body data-page="regactividad">
  <header>
    <div class="logo"><img src="img/logopctch.png" alt="Logo" /></div>
    <button class="menu-toggle" aria-label="Abrir men√∫" aria-controls="primary-nav" aria-expanded="false">‚ò∞</button>
    <nav id="primary-nav">
      <ul>
        <li><a href="index.html">Dashboard</a></li>
        <li class="nav-dropdown"><details><summary>Pruebas</summary><ul>
          <li><a href="matestrep.html">MTR Material Test Report</a></li>
          <li><a href="listmatestrep.html">Lista de pruebas (MTR)</a></li>
          <li><a href="pruebas.html">Pruebas</a></li>
          <li><a href="stockpruebas.html">Stock de pruebas</a></li>
          <li><a href="listapruebas.html">Lista de pruebas</a></li>
          <li><a href="utt.html">Pruebas UTT</a></li>
          <li><a href="listutt.html">Lista UTT</a></li>
          <li><a href="emi.html">Pruebas EMI</a></li>
          <li><a href="listemi.html">Lista EMI</a></li>
        </ul></details></li>
        <li><a href="tareas.html">Tareas</a></li>
        <li class="nav-dropdown"><details><summary>Inspecci√≥n</summary><ul>
          <li><a href="inspeccion.html">Inspecci√≥n primaria</a></li>
          <li><a href="reginspecciones.html">Registro de inspecciones</a></li>
        </ul></details></li>
        <li><a href="ingral.html">Inventario</a></li>
        <li class="nav-dropdown"><details open><summary>Actividad</summary><ul>
          <li><a href="actividad.html">Registro de actividad</a></li>
          <li><a class="active" href="regactividad.html">Historial de registros</a></li>
        </ul></details></li>
        <li><a href="reportes.html">Reportes</a></li>
      </ul>
    </nav>
    <div class="user-box">
      <span id="user-email"></span>
      <a id="login-link" href="login.html">Login</a>
      <button id="logout-btn" type="button" style="display:none">Salir</button>
    </div>
  </header>
  
  <main class="wide">
    <h1>üìã Historial de Registros de Actividad</h1>
    
    <div class="toolbar">
      <input type="text" id="searchInput" placeholder="Buscar por equipo, cliente, √°rea..." />
      <button id="exportBtn" class="btn-secondary">üì• Exportar CSV</button>
      <button id="clearAllBtn" class="btn-danger">üóëÔ∏è Borrar Todo</button>
      <button id="refreshBtn" class="btn-secondary">üîÑ Actualizar</button>
    </div>

    <div class="activity-stats">
      <div class="stat-card">
        <div class="stat-label">Total de Registros</div>
        <div class="stat-value" id="totalRegistros">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Equipos Internos</div>
        <div class="stat-value" id="totalInternos">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Equipos Externos</div>
        <div class="stat-value" id="totalExternos">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Ingreso Total</div>
        <div class="stat-value" id="ingresoTotal">$0.00</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Renta Total</div>
        <div class="stat-value" id="rentaTotal">$0.00</div>
      </div>
    </div>

    <div class="table-wrapper">
      <table class="history-table">
        <thead>
          <tr>
            <th>Fecha Registro</th>
            <th>Tipo</th>
            <th>Serial</th>
            <th>Equipo/Activo</th>
            <th>Cliente</th>
            <th>Inicio Servicio</th>
            <th>Terminaci√≥n</th>
            <th>D√≠as</th>
            <th>Precio</th>
            <th>Ingreso/Renta</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="historyTableBody">
          <tr>
            <td colspan="12" style="text-align:center; padding:40px;">Cargando registros...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>
  
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-firestore-compat.js"></script>
  <script src="firebase-config.js"></script>
  <script src="firebase-init.js"></script>
  
  <link rel="stylesheet" href="regactividad.css?v=4">
  <script src="regactividad.js?v=6"></script>
  <script src="script.js"></script>
  <script src="auth-ui-helper.js"></script>
  </body>
</html>
        