
<!doctype html>
<html lang="es">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Flujo de Trabajo</title>
  <style>
   :root { --bg:#0b1020; --panel:#141a2e; --muted:#a7b0c0; --text:#e8ecf3; --accent:#3aa9ff; --accent-2:#7c4dff; --ok:#22c55e; }
   * { box-sizing: border-box; }
   html, body { height: 100%; }
   body { margin: 0; background: linear-gradient(180deg, #0b1020, #0b1226); color: var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
   .wrap { max-width: 1100px; margin: 0 auto; padding: 24px; }
   h1 { font-size: 28px; letter-spacing: .3px; margin: 8px 0 16px; }
   p.lead { color: var(--muted); margin: 0 0 24px; }

   .flow { display: grid; grid-template-columns: repeat(14, 1fr); gap: 16px; align-items: stretch; }
   .step { grid-column: span 2; background: radial-gradient(1200px 420px at -10% -20%, rgba(122, 168, 255, .18), transparent 55%),
                           radial-gradient(300px 200px at 110% 130%, rgba(124, 77, 255, .16), transparent 60%),
                           var(--panel);
           border: 1px solid rgba(255, 255, 255, .08);
           border-radius: 14px; padding: 16px; position: relative; display: flex; flex-direction: column; min-height: 170px; }
   .step h2 { font-size: 16px; margin: 0 0 8px; display: flex; flex-direction: column; align-items: flex-start; gap: 4px; }
   .step h2 small { display: block; }
   .step small { color: var(--muted); font-weight: 500; }
   .docs { margin: 8px 0 0; padding-left: 18px; color: var(--muted); }
   .docs li { margin: 4px 0; }
   .arrow { grid-column: span 1; display: grid; place-items: center; color: var(--muted); }
   .arrow .shaft { width: 100%; height: 2px; background: linear-gradient(90deg, rgba(58, 169, 255, .0), rgba(58, 169, 255, .9)); position: relative; }
   .arrow .shaft::after { content: ""; position: absolute; right: -2px; top: 50%; transform: translateY(-50%) rotate(0deg); border-left: 8px solid rgba(58, 169, 255, .9); border-top: 6px solid transparent; border-bottom: 6px solid transparent; }

   .step--inventario h2 { color: var(--accent); }
   .step--pruebas h2 { color: #ffd166; }
   .step--inspeccion h2 { color: var(--accent-2); }
   .step--tareas h2 { color: #22d3ee; }
   .step--reporte h2 { color: var(--ok); }

   .legend { display: flex; gap: 12px; flex-wrap: wrap; margin: 16px 0 0; color: var(--muted); font-size: 13px; }
   .pill { display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px; background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.08); }
   .dot { width: 8px; height: 8px; border-radius: 50%; }

   @media (max-width: 980px) {
     .flow { grid-template-columns: 1fr; }
     .step, .arrow { grid-column: auto; }
     .arrow .shaft { width: 2px; height: 48px; background: linear-gradient(180deg, rgba(58,169,255,.0), rgba(58,169,255,.9)); }
     .arrow .shaft::after { right: 50%; top: unset; bottom: -2px; transform: translateX(50%) rotate(90deg); }
   }
  </style>
 </head>
 <body>
  <main class="wrap" aria-label="Flujo de trabajo">
   <h1>Flujo de trabajo</h1>
   <p class="lead">Borrador inicial del funnel: Inventario → Pruebas → Inspección → Tareas → Reporte.</p>

   <section class="flow" aria-label="Etapas del flujo">
    <article class="step step--inventario" aria-labelledby="titulo-inventario">
     <h2 id="titulo-inventario">Inventario<br> <small>(entrada)</small></h2>
     <ul class="docs" aria-label="Documentos de inventario">
      <li>Fuente: INVENTARIO GENERAL PCT 2025 UNIFICADO.csv</li>
      <li>Generación de SERIAL para celdas vacías</li>
      <li>EDO ON/OFF (OFF bloquea uso en módulos)</li>
     </ul>
    </article>
    <div class="arrow" aria-hidden="true"><div class="shaft"></div></div>

    <article class="step step--pruebas" aria-labelledby="titulo-pruebas">
     <h2 id="titulo-pruebas">Pruebas <br> <small>(validación)</small></h2>
     <ul class="docs" aria-label="Documentos de pruebas">
      <li>Datalist desde inventario unificado (EDO=ON)</li>
      <li>Resultados y observaciones</li>
      <li>Registro PND</li>
     </ul>
    </article>
    <div class="arrow" aria-hidden="true"><div class="shaft"></div></div>

    <article class="step step--inspeccion" aria-labelledby="titulo-inspeccion">
     <h2 id="titulo-inspeccion">Inspección<br> <small>(control)</small></h2>
     <ul class="docs" aria-label="Documentos de inspección">
      <li>Selección de equipo solo si EDO=ON</li>
      <li>Checklists, hallazgos y fotos</li>
      <li>Registro de inspecciones</li>
     </ul>
    </article>
    <div class="arrow" aria-hidden="true"><div class="shaft"></div></div>

    <article class="step step--tareas" aria-labelledby="titulo-tareas">
     <h2 id="titulo-tareas">Actividad<br> <small>(servicio)</small></h2>
     <ul class="docs" aria-label="Documentos de tareas">
      <li>Propio / Terceros (nuevo flujo)</li>
      <li>Firestore: activityRecords</li>
      <li>Bloquea equipos con EDO=OFF</li>
     </ul>
    </article>
    <div class="arrow" aria-hidden="true"><div class="shaft"></div></div>

    <article class="step step--reporte" aria-labelledby="titulo-reporte">
     <h2 id="titulo-reporte">Dashboard<br> <small>(salida)</small></h2>
     <ul class="docs" aria-label="Documentos de reporte">
      <li>KPIs Actividades: Activas, Vencidas</li>
      <li>Promedio días en servicio</li>
      <li>Inventario total</li>
     </ul>
    </article>
   </section>

   <div class="legend" aria-label="Leyenda de colores">
    <span class="pill"><span class="dot" style="background: var(--accent);"></span> Inventario</span>
    <span class="pill"><span class="dot" style="background: #ffd166;"></span> Pruebas</span>
    <span class="pill"><span class="dot" style="background: var(--accent-2);"></span> Inspección</span>
    <span class="pill"><span class="dot" style="background: #22d3ee;"></span> Tareas</span>
    <span class="pill"><span class="dot" style="background: var(--ok);"></span> Reporte</span>
   </div>
  </main>
 </body>
 </html>

